

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Nengo Example: Controlled Integrator &mdash; Nengo 2.1.0-dev docs</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Nengo 2.1.0-dev docs" href="../index.html"/>
        <link rel="up" title="Principle 3: Dynamics" href="../dynamics.html"/>
        <link rel="next" title="Nengo Example: Controlled Integrator 2" href="controlled_integrator2.html"/>
        <link rel="prev" title="Nengo Example: Integrator" href="integrator.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Nengo
          

          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nef_summary.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="nef_summary.html#principle-1-representation">Principle 1: Representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="nef_summary.html#principle-2-transformation">Principle 2: Transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="nef_summary.html#principle-3-dynamics">Principle 3: Dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../representation.html">Principle 1: Representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation.html">Principle 2: Transformation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../dynamics.html">Principle 3: Dynamics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="integrator.html">Nengo Example: Integrator</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Nengo Example: Controlled Integrator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-create-the-network">Step 1: Create the network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-define-the-input-signal-to-integrate">Step 2: Define the &#8216;input&#8217; signal to integrate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-define-the-control-signal">Step 3: Define the &#8216;control&#8217; signal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-define-the-integrator-dynamics">Step 4: Define the integrator dynamics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="controlled_integrator2.html">Nengo Example: Controlled Integrator 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="oscillator.html">Nengo Example: A Simple Harmonic Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="controlled_oscillator.html">Nengo Example: Controlled Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="lorenz_attractor.html">The Lorenz chaotic attractor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#nodes">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#ensembles">Ensembles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#connections">Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#learning">Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#networks">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#semantic-pointer-architecture">Semantic Pointer Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#extending-nengo">Extending Nengo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Nengo</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../examples.html">Examples</a> &raquo;</li>
      
          <li><a href="../dynamics.html">Principle 3: Dynamics</a> &raquo;</li>
      
    <li>Nengo Example: Controlled Integrator</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/examples/controlled_integrator.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: navy;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: darkred;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansiblack { color: black; }
.ansired { color: darkred; }
.ansigreen { color: darkgreen; }
.ansiyellow { color: #c4a000; }
.ansiblue { color: darkblue; }
.ansipurple { color: darkviolet; }
.ansicyan { color: steelblue; }
/* See https://github.com/jupyter/nbconvert/issues/174 */
.ansigray { color: gray; }  /* nbconvert CSS */
.ansigrey { color: gray; }  /* nbconvert HTML output */

.ansibgblack { background-color: black; }
.ansibgred { background-color: red; }
.ansibggreen { background-color: green; }
.ansibgyellow { background-color: yellow; }
.ansibgblue { background-color: blue; }
.ansibgpurple { background-color: magenta; }
.ansibgcyan { background-color: cyan; }
.ansibggray { background-color: gray; }

.ansibold { font-weight: bold; }
</style>
<div class="section" id="nengo-example-controlled-integrator">
<h1>Nengo Example: Controlled Integrator<a class="headerlink" href="#nengo-example-controlled-integrator" title="Permalink to this headline">Â¶</a></h1>
<p>A controlled integrator is a circuit that acts on two signals:</p>
<ol class="arabic simple">
<li>Input - the signal being integrated</li>
<li>Control - the control signal to the integrator</li>
</ol>
<p>A controlled integrator accumulates input, but its state can be directly
manipulated by the control signal. We can write the dynamics of a simple
controlled integrator like this:</p>
<div class="math">
\[\dot{a}(t) = \mathrm{control}(t) \cdot a(t) + B \cdot \mathrm{input}(t)\]</div>
<p>In this notebook, we will build a controlled intgrator with LIF neurons.
The Neural Engineering Framework (NEF) equivalent equation for this
integrator is:</p>
<div class="math">
\[\dot{a}(t) = \mathrm{control}(t) \cdot a(t) + \tau \cdot \mathrm{input}(t).\]</div>
<p>We call the coefficient <span class="math">\(\tau\)</span> here a <em>recurrent time constant</em>
because it governs the rate of integration.</p>
<p>Network behaviour: <code class="docutils literal"><span class="pre">A</span> <span class="pre">=</span> <span class="pre">tau</span> <span class="pre">*</span> <span class="pre">Input</span> <span class="pre">+</span> <span class="pre">Input</span> <span class="pre">*</span> <span class="pre">Control</span></code></p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">nengo</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">nengo</span><span class="o">.</span><span class="n">ipynb</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;IPython.core.display.Javascript object&gt;
</pre></div>
</div>
</div>
<div class="section" id="step-1-create-the-network">
<h2>Step 1: Create the network<a class="headerlink" href="#step-1-create-the-network" title="Permalink to this headline">Â¶</a></h2>
<p>We can use standard network-creation commands to begin creating our
controlled integrator. We create a Network, and then we create a
population of neurons (called an <em>ensemble</em>). This population of neurons
will represent the state of our integrator, and the connections between
the neurons in the ensemble will define the dynamics of our integrator.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="n">model</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Controlled Integrator&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="c1"># Make a population with 225 LIF neurons representing a 2 dimensional signal,</span>
    <span class="c1"># with a larger radius to accommodate large inputs</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">(</span><span class="mi">225</span><span class="p">,</span> <span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-2-define-the-input-signal-to-integrate">
<h2>Step 2: Define the &#8216;input&#8217; signal to integrate<a class="headerlink" href="#step-2-define-the-input-signal-to-integrate" title="Permalink to this headline">Â¶</a></h2>
<p>We will be running 1 second of simulation time, so we will use a Python
function <code class="docutils literal"><span class="pre">input_func</span></code> to define our input signal for real values of
time <code class="docutils literal"><span class="pre">t</span></code> from 0 to 1. We&#8217;ll define our signal to be a step function
using if-then-else code. Our piece-wise function sits at 0 until .2
seconds into the simulation, then jumps up to 5, back to 0, down to -10,
back to 0, then up to 5, and then back to 0. Our integrator will respond
by ramping up when the input is positive, and descending when the input
is negative.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">nengo.utils.functions</span> <span class="kn">import</span> <span class="n">piecewise</span>

<span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="c1"># Create a piecewise step function for input</span>
    <span class="n">input_func</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.44</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mf">0.54</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>We include this input function (<code class="docutils literal"><span class="pre">input_func</span></code>) into our neural model
like this:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="c1"># Define an input signal within our model</span>
    <span class="n">inp</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">input_func</span><span class="p">)</span>

    <span class="c1"># Connect the Input signal to ensemble A.</span>
    <span class="c1"># The `transform` argument means &quot;connect real-valued signal &quot;Input&quot; to the</span>
    <span class="c1"># first of the two input channels of A.&quot;</span>
    <span class="n">tau</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">nengo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="p">[[</span><span class="n">tau</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">synapse</span><span class="o">=</span><span class="n">tau</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-3-define-the-control-signal">
<h2>Step 3: Define the &#8216;control&#8217; signal<a class="headerlink" href="#step-3-define-the-control-signal" title="Permalink to this headline">Â¶</a></h2>
<p>We also need to create a control signal that controls how the integrator
behaves. We will make this signal 1 for the first part of the
simulation, and 0.5 for the second part. This means that at the
beginning of the simulation, the integrator will act as an optimal
integrator, and partway though the simulation (at t = 0.6), it will
switch to being a leaky integrator.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="c1"># Another piecewise step that changes half way through the run</span>
    <span class="n">control_func</span> <span class="o">=</span> <span class="n">piecewise</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>We add the control signal to the network like we added the input signal,
but this this time we connect it to the second dimension of our neural
population.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="n">control</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">control_func</span><span class="p">)</span>

    <span class="c1"># Connect the &quot;Control&quot; signal to the second of A&#39;s two input channels.</span>
    <span class="n">nengo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">control</span><span class="p">,</span> <span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">synapse</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-4-define-the-integrator-dynamics">
<h2>Step 4: Define the integrator dynamics<a class="headerlink" href="#step-4-define-the-integrator-dynamics" title="Permalink to this headline">Â¶</a></h2>
<p>We set up integrator by connecting population &#8216;A&#8217; to itself. We set up
feedback in the model to handle integration of the input. The time
constant <span class="math">\(\tau\)</span> on the recurrent weights affects both the rate and
accuracy of integration. Try adjusting it and see what happens!</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="c1"># Create a recurrent connection that first takes the product</span>
    <span class="c1"># of both dimensions in A (i.e., the value times the control)</span>
    <span class="c1"># and then adds this back into the first dimension of A using</span>
    <span class="c1"># a transform</span>
    <span class="n">nengo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>                         <span class="c1"># -- transform converts function output to new state inputs</span>
                     <span class="n">function</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="c1"># -- function is applied first to A</span>
                     <span class="n">synapse</span><span class="o">=</span><span class="n">tau</span><span class="p">)</span>

    <span class="c1"># Record both dimensions of A</span>
    <span class="n">A_probe</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Probe</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s1">&#39;decoded_output&#39;</span><span class="p">,</span> <span class="n">synapse</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Simulator</span><span class="p">(</span><span class="n">model</span><span class="p">)</span> <span class="k">as</span> <span class="n">sim</span><span class="p">:</span>  <span class="c1"># Create a simulator</span>
    <span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.4</span><span class="p">)</span>  <span class="c1"># Run for 1.4 seconds</span>
</pre></div>
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>
<span></span><span class="c1"># Plot the value and control signals, along with the exact integral</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">trange</span><span class="p">()</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">input_sig</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">input_func</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
<span class="n">control_sig</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">control_func</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
<span class="n">ref</span> <span class="o">=</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">input_sig</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">input_sig</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Input&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Input&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower left&quot;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">ref</span><span class="p">,</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Exact&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">A_probe</span><span class="p">][:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A (value)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">A_probe</span><span class="p">][:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A (control)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (s)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;x(t)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower left&quot;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.legend.Legend at 0x7fc0d0accf50&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="../_images/examples_controlled_integrator_15_1.png" src="../_images/examples_controlled_integrator_15_1.png" />
</div>
</div>
<p>The above plot shows the output of our system, specifically the
(integrated) value stored by the A population, along with the control
signal represented by the A population. The exact value of the integral,
as performed by a perfect (non-neural) integrator, is shown for
reference.</p>
<p>When the control value is 1 (t &lt; 0.6), the neural integrator performs
near-perfect integration. However, when the control value drops to 0.5
(t &gt; 0.6), the integrator becomes a leaky integrator. This means that in
the absence of input, its stored value drifts towards zero.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="controlled_integrator2.html" class="btn btn-neutral float-right" title="Nengo Example: Controlled Integrator 2" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="integrator.html" class="btn btn-neutral" title="Nengo Example: Integrator" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2014, Applied Brain Research.
      Last updated on Apr 06, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.1.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>